# tasks/T-0009.md — Data Verification Scripts (≤4 hours)

**Goal:** Create Python verification scripts to validate CSV export data integrity, alignment correctness, and session completeness.

**AC:**
- Script `scripts/verify-csv.py` validates:
  - All required columns present (23 columns from spec)
  - No missing critical values (session_id, slide_id, event, zoom_level, dzi_level)
  - Timestamps in chronological order per session
  - DZI level matches zoom level (using manifest mapping: 2.5×→14, 5×→15, etc.)
  - Viewport bounds (vbx0, vby0, vtx0, vty0) within slide dimensions
  - Cell indices (i, j) are non-negative integers for cell_click events
  - Exit code 0 if valid, 1 with error report if invalid

- Script `scripts/verify-alignment.py` validates:
  - For each `cell_click` event: recompute cell center from (i, j) using lattice math
  - Compare computed center with logged center_x0/center_y0 (tolerance: ±1 pixel due to rounding)
  - Verify viewport bounds contain the center point
  - Check cell indices are within grid dimensions for that zoom level
  - Generate report: "X/Y click events verified correct" or list misalignments

- Script `scripts/verify-sessions.py` validates:
  - Each session has `app_start` event (first event per session)
  - Each session has `slide_load` event
  - Sessions marked complete have `slide_next` event with label
  - Event sequences are logical (no zoom_step without preceding cell_click)
  - Calculate per-session statistics: duration, click count, zoom distribution
  - Output summary: "N sessions validated, M issues found"

**Constraints:**
- Scripts use Python 3.8+ with minimal dependencies (pandas, numpy)
- Accept CSV file path as command-line argument
- Output human-readable reports to stdout
- Optionally accept manifest JSON for alignment verification
- No modification of input files

**Test notes:**
- Test with exported CSV (700+ events)
- Test with deliberately corrupted data (missing columns, invalid coordinates)
- Verify error messages are helpful for debugging

**Deliverables:**
- `scripts/verify-csv.py` - CSV schema and data validation
- `scripts/verify-alignment.py` - Alignment and coordinate validation
- `scripts/verify-sessions.py` - Session completeness validation
- `scripts/requirements-analysis.txt` - Python dependencies
- `scripts/README.md` - Usage documentation for verification scripts

